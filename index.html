<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Furkan Senyuz | Civil Engineer & AI Solutions Developer</title>
    <meta name="description" content="Civil Engineer & AI Solutions Developer bridging construction with Python, Machine Learning, and Primavera P6. Portfolio with Gemini AI integration.">
    <meta name="author" content="Furkan Senyuz">
    <link rel="canonical" href="https://fsenyuz.com">
    
    <link rel="manifest" href='data:application/manifest+json,{"name":"Furkan Senyuz Portfolio","short_name":"FS Portfolio","start_url":"/","display":"standalone","background_color":"#0f172a","theme_color":"#fbbf24","orientation":"portrait","icons":[{"src":"https://cdn.jsdelivr.net/gh/pointhi/leaflet-color-markers@master/img/marker-icon-2x-orange.png","sizes":"192x192","type":"image/png"},{"src":"https://cdn.jsdelivr.net/gh/pointhi/leaflet-color-markers@master/img/marker-icon-2x-orange.png","sizes":"512x512","type":"image/png"}]}'>
    <meta name="theme-color" content="#fbbf24">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <meta property="og:title" content="Furkan Senyuz | Civil Engineer & AI Solutions Developer">
    <meta property="og:description" content="Bridging the gap between physical infrastructure and digital intelligence.">
    <meta property="og:image" content="https://fsenyuz.com/profile.jpg">
    <meta name="twitter:card" content="summary_large_image">

    <link rel="prefetch" href="https://cdn.jsdelivr.net/gh/pointhi/leaflet-color-markers@master/img/marker-icon-2x-blue.png">
    <link rel="prefetch" href="https://cdn.jsdelivr.net/gh/pointhi/leaflet-color-markers@master/img/marker-icon-2x-green.png">

    <script>
        window.CFG = { GA:'G-1E33W355PW', API:"https://portfolio-backend-hu1r.onrender.com/chat", THEME:'theme', CONSENT:'cookie_consent', RETRY:2000, MAX:2, LIM:50 };
        window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);}
        gtag('consent', 'default', { 'ad_storage':'denied', 'ad_user_data':'denied', 'ad_personalization':'denied', 'analytics_storage':'denied' });
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1E33W355PW"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', window.CFG.GA, { 'anonymize_ip': true });</script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <style>
        /* ETERNITY EDITION CSS v37 */
        :root { --bg:#0f172a; --sec:#1e293b; --txt:#f1f5f9; --mut:#94a3b8; --gold:#fbbf24; --blue:#38bdf8; --green:#2ecc71; --brd:rgba(255,255,255,0.1); --shd:0 4px 6px -1px rgba(0,0,0,0.3); --tag:rgba(255,255,255,0.1); --ovr:rgba(0,0,0,0.85); --inp:#0f172a; --bot:#fbbf24; --usr:#334155; }
        body.light-mode { --bg:#f8fafc; --sec:#ffffff; --txt:#0f172a; --mut:#475569; --gold:#d97706; --blue:#0284c7; --green:#15803d; --brd:#e2e8f0; --shd:0 4px 6px -1px rgba(0,0,0,0.1); --tag:#e2e8f0; --ovr:rgba(255,255,255,0.85); --inp:#f1f5f9; --bot:#d97706; --usr:#e2e8f0; }
        * { margin:0; padding:0; box-sizing:border-box; } html { scroll-behavior:smooth; }
        body { font-family:'Inter',sans-serif; background:var(--bg); color:var(--txt); line-height:1.6; transition:background 0.3s,color 0.3s; overflow-x:hidden; }
        :focus-visible { outline:2px solid var(--gold); outline-offset:3px; }
        
        @keyframes up { from{opacity:0;transform:translateY(30px)} to{opacity:1;transform:translateY(0)} }
        @keyframes pulse { 0%{box-shadow:0 0 0 0 rgba(251,191,36,0.7)} 70%{box-shadow:0 0 0 15px transparent} 100%{box-shadow:0 0 0 0 transparent} }
        .anim { opacity:0; animation:up 0.8s ease-out forwards; } .d1{animation-delay:.1s} .d2{animation-delay:.2s} .d3{animation-delay:.3s} .d4{animation-delay:.4s} .d5{animation-delay:.5s}
        .item-box { transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1), transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), display 0.4s allow-discrete; }
        .hidden-item { opacity:0; transform:scale(0.9); display:none !important; } .visible-item { opacity:1; transform:scale(1); display:flex !important; }
        
        header { background:var(--bg); padding:15px 0; position:fixed; width:100%; top:0; z-index:1000; border-bottom:1px solid var(--brd); backdrop-filter:blur(10px); }
        .nav-con { max-width:1200px; margin:0 auto; display:flex; justify-content:space-between; align-items:center; padding:0 20px; }
        .logo { font-size:1.5rem; font-weight:700; color:var(--txt); text-decoration:none; } .logo span { color:var(--gold); }
        .act { display:flex; gap:12px; align-items:center; }
        .i-btn { background:none; border:none; color:var(--txt); cursor:pointer; font-size:1.1rem; padding:5px; transition:0.3s; } .i-btn:hover { color:var(--gold); }
        .b-cv { background:transparent; color:var(--gold); border:1px solid var(--gold); padding:7px 18px; border-radius:50px; text-decoration:none; font-weight:600; font-size:0.9rem; transition:0.3s; } .b-cv:hover { background:var(--gold); color:#fff; }
        .b-con { background:var(--txt); color:var(--bg); padding:8px 20px; border-radius:50px; text-decoration:none; font-weight:600; font-size:0.9rem; transition:0.3s; cursor:pointer; } .b-con:hover { background:var(--gold); color:#fff; transform:translateY(-2px); }

        .hero { padding:140px 20px 60px; text-align:center; max-width:900px; margin:0 auto; }
        .avt { width:150px; height:150px; border-radius:50%; border:4px solid var(--gold); box-shadow:0 0 20px rgba(251,191,36,0.3); margin-bottom:25px; object-fit:cover; background:var(--sec); }
        .hero h1 { font-size:3.5rem; font-weight:700; color:var(--txt); line-height:1.1; margin-bottom:10px; }
        .sub { font-size:1.5rem; color:var(--mut); font-weight:300; margin-bottom:30px; }
        .slogan { font-size:2rem; color:var(--gold); font-weight:600; margin-bottom:40px; }
        .soc { font-size:1.8rem; color:var(--mut); margin:0 10px; transition:0.3s; } .soc:hover { color:var(--gold); transform:translateY(-3px); }
        
        .skills { display:flex; flex-direction:column; gap:15px; align-items:center; margin-top:20px; }
        .s-row { display:flex; gap:10px; flex-wrap:wrap; justify-content:center; }
        .tag { padding:10px 20px; border-radius:8px; font-weight:600; font-size:0.95rem; color:#fff; box-shadow:var(--shd); transition:0.2s; position:relative; cursor:pointer; } .tag:hover { transform:translateY(-2px); }
        .tag::after { content:attr(data-tooltip); position:absolute; bottom:110%; left:50%; transform:translateX(-50%); background:var(--sec); color:var(--gold); padding:8px 12px; border-radius:6px; font-size:0.85rem; width:max-content; opacity:0; visibility:hidden; transition:0.2s; border:1px solid var(--gold); pointer-events:none; z-index:10; } .tag:hover::after, .tag.active::after { opacity:1; visibility:visible; }
        .bg-t { background:var(--green); } .bg-e { background:var(--sec); border:1px solid var(--blue); color:var(--blue); } .light-mode .bg-e { background:#e0f2fe; border-color:#0284c7; color:#0284c7; }

        .box { max-width:1200px; margin:0 auto; padding:0 20px; }
        #map { height:500px; border-radius:16px; border:1px solid var(--brd); margin-bottom:10px; z-index:1; background:var(--sec); }
        .leg { display:flex; gap:20px; justify-content:center; color:var(--mut); margin-bottom:40px; } .dot { width:12px; height:12px; border-radius:50%; display:inline-block; }

        .grid { display:grid; grid-template-columns:1fr 1fr; gap:40px; max-width:1200px; margin:40px auto; padding:0 20px; }
        .filters { display:flex; justify-content:center; gap:10px; margin-bottom:20px; flex-wrap:wrap; }
        .f-btn { background:var(--sec); color:var(--mut); border:1px solid var(--brd); padding:8px 16px; border-radius:20px; cursor:pointer; transition:0.3s; } .f-btn:hover, .f-btn.active { background:var(--gold); color:#000; border-color:var(--gold); }
        
        .title { font-size:1.6rem; margin-bottom:25px; padding-bottom:10px; border-bottom:2px solid var(--brd); color:var(--txt); display:flex; align-items:center; gap:12px; }
        .lst { display:flex; flex-direction:column; gap:20px; }
        .it { background:var(--sec); padding:24px; border-radius:12px; border-left:4px solid var(--gold); transition:0.3s; box-shadow:var(--shd); } .it:hover { transform:translateX(5px); } .it.edu { border-left-color:var(--green); }
        .it h4 { font-size:1.1rem; margin-bottom:4px; font-weight:700; } .it .co { font-size:0.95rem; color:var(--gold); font-weight:600; display:block; margin-bottom:5px; } .it.edu .co { color:var(--green); }
        .it .meta { font-size:0.85rem; color:var(--mut); display:flex; justify-content:space-between; border-bottom:1px solid var(--brd); padding-bottom:8px; margin-bottom:10px; }
        .it ul { padding-left:0; list-style:none; } .it ul li { position:relative; padding-left:15px; margin-bottom:6px; font-size:0.9rem; color:var(--mut); } .it ul li::before { content:"•"; color:var(--gold); position:absolute; left:0; }

        .p-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:20px; max-width:1200px; margin:60px auto; padding:0 20px; }
        .card { background:var(--sec); padding:24px; border-radius:12px; border:1px solid var(--brd); transition:0.3s; box-shadow:var(--shd); display:flex; flex-direction:column; } .card:hover { transform:translateY(-5px); border-color:var(--gold); }
        .card h4 { color:var(--gold); margin-bottom:10px; font-size:1.2rem; }
        .ptags { display:flex; gap:8px; margin-bottom:15px; flex-wrap:wrap; } .pt { font-size:0.75rem; background:var(--tag); padding:4px 8px; border-radius:4px; }
        .plnk { color:var(--txt); text-decoration:none; font-size:0.9rem; display:inline-flex; align-items:center; gap:5px; cursor:pointer; } .plnk:hover { color:var(--gold); }

        .bub { position:fixed; bottom:20px; right:20px; background:var(--gold); color:#000; width:60px; height:60px; border-radius:50%; display:flex; justify-content:center; align-items:center; font-size:1.5rem; cursor:pointer; box-shadow:0 4px 10px rgba(0,0,0,0.3); transition:0.3s; z-index:2500; animation:pulse 2s infinite 2s; } .bub:hover { transform:scale(1.1); animation:none; } .bub.act { transform:scale(0.9); animation:none; }
        .win { position:fixed; bottom:90px; right:20px; width:350px; height:500px; max-height:80dvh; height:calc(80vh - 20px); background:var(--sec); border:1px solid var(--brd); border-radius:12px; display:flex; flex-direction:column; box-shadow:0 5px 20px rgba(0,0,0,0.4); z-index:2500; opacity:0; visibility:hidden; transform:translateY(20px); transition:0.3s; overflow:hidden; } .win.act { opacity:1; visibility:visible; transform:translateY(0); }
        .chat-h { background:var(--gold); padding:15px; display:flex; justify-content:space-between; align-items:center; color:#000; font-weight:bold; }
        .msgs { flex-grow:1; padding:15px; overflow-y:auto; display:flex; flex-direction:column; gap:10px; font-size:0.9rem; scroll-behavior:smooth; }
        .msg { padding:10px 14px; border-radius:10px; max-width:80%; line-height:1.4; word-wrap:break-word; } .msg.bot { background:var(--bot); color:#fff; align-self:flex-start; border-bottom-left-radius:2px; } .msg.usr { background:var(--usr); color:var(--txt); align-self:flex-end; border-bottom-right-radius:2px; } .light-mode .msg.bot { color:#fff; }
        .c-inp { padding:10px; border-top:1px solid var(--brd); display:flex; gap:8px; background:var(--bg); align-items:center; }
        .inp { flex-grow:1; padding:10px; border-radius:20px; border:1px solid var(--brd); background:var(--sec); color:var(--txt); outline:none; } .inp:disabled { opacity:0.6; cursor:not-allowed; }
        .snd { background:var(--gold); border:none; width:35px; height:35px; border-radius:50%; color:#000; cursor:pointer; display:flex; justify-content:center; align-items:center; }
        .rtry { background:var(--bg); color:var(--txt); border:1px solid var(--brd); padding:5px 10px; border-radius:15px; font-size:0.8rem; margin-top:5px; cursor:pointer; } .rtry:hover { background:var(--gold); color:#000; } .rtry[disabled] { opacity:0.5; cursor:not-allowed; }

        .mod { position:fixed; top:0; left:0; width:100%; height:100%; background:var(--ovr); z-index:3000; display:flex; justify-content:center; align-items:center; opacity:0; visibility:hidden; transition:0.3s; backdrop-filter:blur(5px); } .mod.act { opacity:1; visibility:visible; }
        .m-con { background:var(--sec); border:1px solid var(--gold); padding:30px; border-radius:12px; max-width:500px; width:90%; text-align:center; position:relative; transform:translateY(20px); transition:0.3s; } .mod.act .m-con { transform:translateY(0); }
        .cls { position:absolute; top:15px; right:15px; background:none; border:none; color:var(--mut); font-size:1.5rem; cursor:pointer; }
        .frm-c { padding:12px; border-radius:8px; border:1px solid var(--brd); background:var(--inp); color:var(--txt); width:100%; margin-bottom:10px; font-family:'Inter',sans-serif; }
        .frm-b { background:var(--gold); color:#000; border:none; padding:12px; border-radius:8px; font-weight:bold; cursor:pointer; width:100%; } .frm-b:disabled { opacity:0.6; }

        #cook { position:fixed; bottom:-200px; left:0; width:100%; background:var(--sec); border-top:1px solid var(--gold); padding:20px; z-index:2000; display:flex; flex-direction:column; align-items:center; gap:15px; transition:0.5s; box-shadow:0 -4px 10px rgba(0,0,0,0.3); } #cook.shw { bottom:0; }
        .c-act button { padding:8px 24px; border-radius:50px; font-weight:bold; cursor:pointer; margin:0 5px; } .yes { background:var(--gold); border:none; color:#000; } .no { background:transparent; border:1px solid var(--mut); color:var(--mut); }
        footer { text-align:center; padding:40px 0; color:var(--mut); border-top:1px solid var(--brd); margin-top:60px; font-size:0.9rem; }
    </style>
</head>
<body>
    <header class="anim d1">
        <div class="nav-con">
            <a href="#" class="logo">f<span>senyuz</span></a>
            <div class="act">
                <button class="i-btn" id="lang-btn" aria-label="Switch Language" aria-expanded="false" onclick="App.lang()">TR</button>
                <button class="i-btn" aria-label="Toggle Theme" onclick="App.theme()"><i class="fa-solid fa-sun"></i></button>
                <a href="CV_FS_2026.pdf" class="b-cv" target="_blank" onclick="App.tr('cv_dl')"><i class="fa-solid fa-download"></i> CV</a>
                <a href="#" class="b-con" onclick="App.cont(event)"><i class="fa-regular fa-envelope"></i> <span data-t="contactBtn">Connect</span></a>
            </div>
            <div id="ann" class="sr-only" aria-live="polite" style="position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0);"></div>
        </div>
    </header>

    <section class="hero">
        <img src="profile.jpg" class="avt anim d2" alt="Furkan Senyuz">
        <h1 class="anim d3">Furkan Senyuz</h1>
        <p class="sub anim d4" data-t="heroTitle">Civil Engineer & AI Solutions Developer</p>
        <div class="slogan anim d5" data-t="heroSlogan">Building the Future with <br> Concrete & Code</div>
        <div class="socials anim d5">
            <a href="https://www.linkedin.com/in/fsenyuz" class="soc"><i class="fa-brands fa-linkedin"></i></a>
            <a href="https://github.com/fsenyuz" class="soc"><i class="fa-brands fa-github"></i></a>
            <a href="https://kaggle.com/fsenyuz" class="soc"><i class="fa-brands fa-kaggle"></i></a>
        </div>
        <div class="skills anim d5">
            <div class="s-row">
                <div class="tag bg-t" tabindex="0" data-tip="skillTip1" onclick="App.tip(this)">Python & SQL</div>
                <div class="tag bg-t" tabindex="0" data-tip="skillTip2" onclick="App.tip(this)">ML & AI APIs</div>
                <div class="tag bg-t" tabindex="0" data-tip="skillTip3" onclick="App.tip(this)">Power BI & ERP</div>
            </div>
            <div class="s-row">
                <div class="tag bg-e" tabindex="0" data-tip="skillTip4" onclick="App.tip(this)">Primavera P6 & TILOS</div>
                <div class="tag bg-e" tabindex="0" data-tip="skillTip5" onclick="App.tip(this)">Tender & Cost</div>
                <div class="tag bg-e" tabindex="0" data-tip="skillTip6" onclick="App.tip(this)">FIDIC & Claims</div>
            </div>
        </div>
    </section>

    <div class="box">
        <h3 class="title"><i class="fa-solid fa-earth-americas"></i> <span data-t="mapTitle">Map</span></h3>
        <div id="map"></div>
        <div class="leg"><div><span class="dot" style="background:#38bdf8"></span> <span data-t="legWork">Work</span></div><div><span class="dot" style="background:#2ecc71"></span> <span data-t="legEdu">Edu</span></div></div>
    </div>

    <div class="grid">
        <div style="grid-column:1/-1; display:flex; justify-content:center;">
            <div class="filters">
                <button class="f-btn active" onclick="App.filt('all')" data-t="fAll">All</button>
                <button class="f-btn" onclick="App.filt('civil')" data-t="fCiv">Construction</button>
                <button class="f-btn" onclick="App.filt('ai')" data-t="fAI">AI & Tech</button>
            </div>
        </div>
        <div><h3 class="title"><i class="fa-solid fa-briefcase"></i> <span data-t="expTitle">Experience</span></h3><div class="lst" id="exp"></div></div>
        <div><h3 class="title"><i class="fa-solid fa-graduation-cap"></i> <span data-t="eduTitle">Education</span></h3><div class="lst" id="edu"></div></div>
    </div>

    <div class="proj">
        <h3 class="title"><i class="fa-solid fa-laptop-code"></i> <span data-t="projTitle">Projects</span></h3>
        <div class="p-grid" id="projs">
            <div class="card item-box visible-item" data-cat="ai">
                <h4><i class="fa-solid fa-chart-line"></i> Construction Claim Predictor</h4>
                <div class="ptags"><span class="pt">Python</span><span class="pt">Random Forest</span></div>
                <p data-t="p1">ML model predicting delay claims.</p>
                <a href="https://github.com/fsenyuz/construction-claim-predictor" target="_blank" class="plnk" onclick="App.repo(event,'Construction Claim Predictor')"><i class="fa-brands fa-github"></i> <span data-t="view">View Code</span></a>
            </div>
            <div class="card item-box visible-item" data-cat="civil">
                <h4><i class="fa-solid fa-file-invoice-dollar"></i> Tender Cost Optimizer</h4>
                <div class="ptags"><span class="pt">Python</span><span class="pt">Automation</span></div>
                <p data-t="p2">Script automating BOQ analysis.</p>
                <a href="https://github.com/fsenyuz/tender-cost-optimizer" target="_blank" class="plnk" onclick="App.repo(event,'Tender Cost Optimizer')"><i class="fa-brands fa-github"></i> <span data-t="view">View Code</span></a>
            </div>
            <div class="card item-box visible-item" data-cat="ai">
                <h4><i class="fa-solid fa-hard-hat"></i> Site Safety Vision</h4>
                <div class="ptags"><span class="pt">YOLO</span><span class="pt">OpenCV</span></div>
                <p data-t="p3">AI detecting PPE compliance.</p>
                <a href="https://github.com/fsenyuz/site-safety-vision" target="_blank" class="plnk" onclick="App.repo(event,'Site Safety Vision')"><i class="fa-brands fa-github"></i> <span data-t="view">View Code</span></a>
            </div>
        </div>
    </div>

    <footer><p>&copy; <span id="yr"></span> Furkan Senyuz. <span data-t="foot">Built with Concrete, Code & AI.</span></p></footer>

    <div class="bub" id="bub" onclick="App.chat()"><i class="fa-solid fa-robot"></i></div>
    <div class="win" id="win">
        <div class="chat-h"><h4><i class="fa-solid fa-brain"></i> FS AI</h4><button class="cls" onclick="App.chat()" style="position:static;font-size:1.2rem"><i class="fa-solid fa-xmark"></i></button></div>
        <div class="msgs" id="msgs" role="log" aria-live="polite"><div class="msg bot">Hello! I'm Furkan's AI. Ask me anything!</div></div>
        <div class="c-inp">
            <label for="f-up" style="cursor:pointer"><i class="fa-solid fa-paperclip"></i></label><input type="file" id="f-up" style="display:none">
            <input type="text" id="inp" class="inp" placeholder="Ask..." onkeypress="App.key(event)">
            <button class="snd" aria-label="Send Message" onclick="App.send()"><i class="fa-solid fa-paper-plane"></i></button>
        </div>
    </div>

    <div id="mod" class="mod" role="dialog" aria-modal="true">
        <div class="m-con">
            <button class="cls" onclick="App.cls()"><i class="fa-solid fa-xmark"></i></button>
            <h3 id="m-tit">Title</h3><div id="m-txt"></div>
            <form id="frm" action="https://formspree.io/f/mnjbavgw" method="POST" style="display:none">
                <input type="text" name="_gotcha" style="display:none">
                <input type="text" id="name" name="name" class="frm-c" required placeholder="Name">
                <input type="email" id="email" name="email" class="frm-c" required placeholder="Email">
                <textarea id="msg" name="message" class="frm-c" required placeholder="Message" rows="4"></textarea>
                <button class="g-recaptcha frm-b" data-sitekey="YOUR_SITE_KEY" data-callback="onSubmit" data-error-callback="onErr" data-action="submit">Send</button>
                <div id="fst" style="margin-top:10px;display:none"></div>
            </form>
            <button id="m-btn" class="frm-b" onclick="App.cls()" style="margin-top:15px">Close</button>
        </div>
    </div>

    <div id="cook"><button style="position:absolute;top:10px;right:15px;background:none;border:none;cursor:pointer" onclick="App.hCook()"><i class="fa-solid fa-xmark"></i></button><p data-t="cookieText">Cookies help us improve.</p><div class="c-act"><button class="no" onclick="App.cons(false)" data-t="decline">Decline</button><button class="yes" onclick="App.cons(true)" data-t="accept">Accept</button></div></div>

    <script>
        if('serviceWorker'in navigator){
            // PWA Cache: Core Assets + Fonts + CV + Leaflet
            const sw=`const C='fs-v4';self.addEventListener('install',e=>{e.waitUntil(caches.open(C).then(c=>c.addAll(['/','index.html','profile.jpg','CV_FS_2026.pdf','https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap','https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css','https://unpkg.com/leaflet@1.9.4/dist/leaflet.css','https://unpkg.com/leaflet@1.9.4/dist/leaflet.js'])));self.skipWaiting()});self.addEventListener('activate',e=>e.waitUntil(self.clients.claim()));self.addEventListener('fetch',e=>e.respondWith(caches.match(e.request).then(r=>r||fetch(e.request).catch(()=>new Response("Offline")))));`;
            navigator.serviceWorker.register(`data:application/javascript;base64,${btoa(sw)}`).catch(console.error);
        }
        function onSubmit(t){App.sub(t)}
        function onErr(){App.errCap()}
        
        window.App=(function(){
            const C=window.CFG, D=new Date().toISOString().split('T')[0];
            let l='en', map, lyrs={}, mRetries=0, foc, obs, DATA;
            
            // BASE64 ENCODED DATA (GZIP-LIKE)
            const B64="==";

            function tr(n,p){if(typeof gtag==='function')gtag('event',n,p)}
            function ann(t){document.getElementById('ann').innerText=t}
            
            function render(lg){
                const d=DATA[lg];
                const mk=(i,cls)=>`<div class="it ${cls||''} item-box visible-item" data-cat="${i.c}"><h4>${i.t}</h4><span class="co">${i.co}</span><div class="meta"><span>${i.l}</span><span>${i.d}</span></div><ul>${i.x}</ul></div>`;
                document.getElementById('exp').innerHTML=d.exp.map(i=>mk(i)).join('');
                document.getElementById('edu').innerHTML=d.edu.map(i=>mk(i,'edu')).join('');
                document.querySelectorAll('[data-t]').forEach(e=>e.innerHTML=d[e.dataset.t]||e.innerHTML);
                document.querySelectorAll('[data-tip]').forEach(e=>{e.dataset.tooltip=d[e.dataset.tip];e.ariaLabel=d[e.dataset.tip]});
                ['name','email','msg'].forEach(i=>document.getElementById(i).placeholder=d[i==='msg'?'formMsg':(i==='name'?'formName':'formEmail')]);
                document.getElementById('lang-btn').innerText=lg.toUpperCase();
                filt(document.querySelector('.f-btn.active').getAttribute('onclick').split("'")[1]);
            }

            function filt(c){
                document.querySelectorAll('.f-btn').forEach(b=>b.classList.remove('active'));
                document.querySelector(`button[onclick="App.filt('${c}')"]`).classList.add('active');
                [...document.querySelectorAll('.item-box')].forEach(i=>{
                    if(c==='all'||i.dataset.cat===c){i.classList.remove('hidden-item');i.classList.add('visible-item')}
                    else{i.classList.remove('visible-item');i.classList.add('hidden-item')}
                });
            }

            function lang(){ 
                l=l==='en'?'tr':'en'; render(l); 
                const btn=document.getElementById('lang-btn'); btn.setAttribute('aria-expanded','true'); 
                setTimeout(()=>btn.setAttribute('aria-expanded','false'),500);
                ann(`Language switched to ${l.toUpperCase()}`); if(map){map.removeControl(window.mc);addLC(l)} 
            }

            function chat(){
                const w=document.getElementById('win'); w.classList.toggle('act'); document.getElementById('bub').classList.toggle('act');
                if(w.classList.contains('act')){ 
                    document.getElementById('inp').focus(); 
                    if(!checkLim()) disInp();
                    if(!obs){ obs=new MutationObserver(()=>document.getElementById('msgs').scrollTop=document.getElementById('msgs').scrollHeight); obs.observe(document.getElementById('msgs'),{childList:true}); }
                    tr('chat_open');
                } else {
                    if(obs){obs.disconnect();obs=null}
                }
            }

            function checkLim(){
                let u=JSON.parse(localStorage.getItem('c_use')||'{}');
                if(u.d!==D){u={d:D,c:0};localStorage.setItem('c_use',JSON.stringify(u))} 
                return u.c < C.LIM;
            }
            function incLim(){
                let u=JSON.parse(localStorage.getItem('c_use')||'{}');
                if(u.d!==D){u={d:D,c:0}} u.c++; localStorage.setItem('c_use',JSON.stringify(u));
            }
            function disInp(){
                const i=document.getElementById('inp'); i.disabled=true; i.placeholder="Daily Limit Reached";
                ann("Daily limit reached, refresh page");
            }

            async function send(man=false){
                if(!checkLim()){disInp();return}
                const inp=document.getElementById('inp'), msgs=document.getElementById('msgs'), txt=inp.value.trim();
                if(!txt&&!man)return;
                if(!man){msgs.innerHTML+=`<div class="msg usr">${txt}</div>`;inp.value='';incLim()}
                
                const ld=document.createElement('div'); ld.className='msg bot typing'; ld.innerHTML='...'; ld.ariaHidden="true"; msgs.appendChild(ld);
                
                const att=async(r)=>{
                    const c=new AbortController(); setTimeout(()=>c.abort(),15000);
                    try{
                        const fd=new FormData(); fd.append('message',txt||"Retry");
                        const res=await fetch(C.API,{method:'POST',body:fd,signal:c.signal});
                        if(!res.ok)throw 0;
                        const d=await res.json(); msgs.removeChild(ld); msgs.innerHTML+=`<div class="msg bot">${d.reply}</div>`;
                    }catch(e){
                        if(r>0) setTimeout(()=>att(r-1),C.RETRY);
                        else{
                            msgs.removeChild(ld); 
                            msgs.innerHTML+=`<div class="msg bot">⚠️ Error. <button class="rtry" aria-label="Retry Chat" onclick="App.rtry()">Retry</button></div>`;
                            ann("Chat Error");
                        }
                    }
                };
                att(man?0:C.MAX);
            }

            function openM(t,c,isF=false){
                foc=document.activeElement; document.getElementById('m-tit').innerText=t;
                document.getElementById('m-txt').innerHTML=c; document.getElementById('m-txt').style.display=isF?'none':'block';
                document.getElementById('frm').style.display=isF?'block':'none'; document.getElementById('m-btn').style.display=isF?'none':'inline-block';
                document.getElementById('mod').classList.add('act'); 
                const f=document.getElementById('mod').querySelectorAll('button,input,textarea')[0]; if(f)f.focus();
            }
            function cls(){document.getElementById('mod').classList.remove('act');if(foc)foc.focus();ann("Modal Closed")}
            
            function sub(tok){
                const f=document.getElementById('frm'), b=f.querySelector('button'), s=document.getElementById('fst');
                b.disabled=true; b.innerText="...";
                const fd=new FormData(f); fd.append("g-recaptcha-response",tok);
                fetch(f.action,{method:'POST',body:fd,headers:{'Accept':'application/json'}}).then(r=>{
                    s.style.display='block';s.innerText=r.ok?"Sent! ✅":"Error ❌";
                    if(r.ok){f.reset();setTimeout(cls,2000)} else { errCap() } 
                    b.disabled=false;b.innerText="Send";
                }).catch(()=>{errCap(); b.disabled=false;});
            }
            function errCap(){ ann("Captcha error, please retry"); grecaptcha.reset(); }

            function initMap(){
                map=L.map('map').setView([41.0,29.0],3);
                L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png',{attribution:'&copy; CARTO'}).addTo(map);
                ['work','edu'].forEach(k=>lyrs[k]=L.layerGroup().addTo(map));
                [{la:45.02,ln:19.40,t:'work'},{la:37.83,ln:27.84,t:'work'},{la:37.42,ln:-122.16,t:'edu'}]
                .forEach(l=>L.marker([l.la,l.ln],{icon:new L.Icon({iconUrl:`https://cdn.jsdelivr.net/gh/pointhi/leaflet-color-markers@master/img/marker-icon-2x-${l.t==='edu'?'green':'blue'}.png`,iconSize:[25,41],iconAnchor:[12,41]})}).addTo(lyrs[l.t]));
                addLC(l);
            }
            function addLC(lg){window.mc=L.control.layers(null,{[`<span style='color:#38bdf8'>${DATA[lg].legWork}</span>`]:lyrs.work,[`<span style='color:#2ecc71'>${DATA[lg].legEdu}</span>`]:lyrs.edu},{collapsed:true}).addTo(map)}

            function init(){
                DATA = JSON.parse(atob(B64)); // Decode Base64 Data
                document.getElementById('yr').innerText=new Date().getFullYear();
                if(localStorage.getItem(C.THEME)==='light')document.body.classList.add('light-mode');
                if(!localStorage.getItem(C.CONSENT))setTimeout(()=>document.getElementById('cook').classList.add('shw'),2000);
                const u=navigator.language||navigator.userLanguage; l=u.startsWith('tr')?'tr':'en'; render(l);
                const obsMap=new IntersectionObserver(e=>{if(e[0].isIntersecting){initMap();obsMap.disconnect()}}); obsMap.observe(document.getElementById('map'));
                const pObs=new IntersectionObserver(e=>{e.forEach(i=>{if(i.isIntersecting){i.target.classList.add('visible-item');pObs.unobserve(i.target)}})});
                document.querySelectorAll('.card').forEach(c=>pObs.observe(c));
            }

            return{
                init,lang,filt,chat,send,cls,sub,tr,errCap,key:e=>{if(e.key==='Enter')send()},
                tip:t=>t.classList.toggle('active'),
                theme:()=>{document.body.classList.toggle('light-mode');localStorage.setItem(C.THEME,document.body.classList.contains('light-mode')?'light':'dark')},
                cont:e=>{e.preventDefault();openM(DATA[l].contactBtn,'',true)},
                repo:(e,n)=>{e.preventDefault();openM('Repo',`<strong>${n}</strong>: Code is private.`)},
                cons:g=>{localStorage.setItem(C.CONSENT,g);gtag('consent','update',{'ad_storage':g?'granted':'denied'});App.hCook()},
                hCook:()=>document.getElementById('cook').classList.remove('shw'),
                rtry:()=>{mRetries++;if(mRetries>3){ann("Retry limit reached, please refresh page");const b=document.querySelector('.rtry');if(b){b.disabled=true;b.setAttribute('aria-disabled','true');b.textContent='Disabled'}return}send(true)}
            };
        })();
        document.addEventListener("DOMContentLoaded",App.init);
    </script>
</body>
</html>
